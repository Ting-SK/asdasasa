(this.webpackJsonptvmaze=this.webpackJsonptvmaze||[]).push([[0],{22:function(e,n,t){"use strict";t.r(n);var c,r,a,i,l,s,o,b=t(0),d=t(9),j=t(3),u=t(2),h=Object(u.a)(c||(c=Object(j.a)(["\n *{\n   outline: none;\n }\n body {\n   font-family: Tahoma, Helvetica, Arial, Roboto, sans-serif;\n   margin: 0;\n   padding: 0;\n   list-style: none;\n   text-decoration: none;\n }\n li{\n   list-style: none;\n }\n a {\n   text-decoration: none;\n }\n h1, h2, h3, h4, h5, h6, p, ul {\n   margin: 0;\n   padding: 0;\n }\n"]))),O=u.b.div(r||(r=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  height: 100vh;\n"]))),f=u.b.div(a||(a=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  border: 1px solid #000;\n"]))),x=t(1),v=function(e){var n=e.children;return Object(x.jsx)(f,{children:n})},p=t(4),g=Object(b.createContext)({}),m=function(e){var n=Object(b.useState)(!1),t=Object(p.a)(n,2),c=t[0],r=t[1],a=Object(b.useState)(!1),i=Object(p.a)(a,2),l=i[0],s=i[1],o=Object(b.useState)({enable:!1,refresh:!1}),d=Object(p.a)(o,2),j={enabled:c,setEnabled:r,refreshed:l,setRefreshed:s,dataSearch:d[0],setDataSearch:d[1]};return Object(x.jsx)(g.Provider,{value:j,children:e.children})},k=function(){return Object(b.useContext)(g)},y=u.b.div(i||(i=Object(j.a)(["\n  & label {\n    display: flex;\n    flex-direction: row;\n    margin: 5px 0;\n  }\n"]))),C=function(e){var n=e.value,t=void 0===n?"true":n,c=e.onChange,r=e.name,a=e.label,i=e.checked,l=void 0!==i&&i;return Object(x.jsx)(y,{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"checkbox",name:r,value:t,onChange:c,checked:l}),Object(x.jsx)("div",{children:a})]})})},w=u.b.button(l||(l=Object(j.a)(["\n  width: 60%;\n  height: 50px;\n  font-size: 18px;\n"]))),S=function(e){var n=e.children,t=e.onClick;return Object(x.jsx)(w,{onClick:t,children:n})},E=u.b.div(s||(s=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 100%;\n  padding: 10px;\n"]))),R=function(){var e=k(),n=e.enabled,t=e.setEnabled,c=e.refreshed,r=e.setRefreshed,a=Object(b.useCallback)((function(e){var n=e.target.checked;t(n)}),[t]),i=Object(b.useCallback)((function(e){var n=e.target.checked;r(n)}),[r]);return Object(x.jsxs)(E,{children:[Object(x.jsx)(C,{label:"Enabled",checked:n,onChange:a}),Object(x.jsx)(C,{label:"Auto refresh every 5 seconds",checked:c,onChange:i})]})},q=function(e){var n=e.loading,t=e.error,c=e.data;return t?Object(x.jsx)("h3",{children:t}):n?Object(x.jsx)("h3",{children:"Loading..."}):c?Object(x.jsx)("img",{src:c,alt:"cat",width:"640px",height:"424px"}):Object(x.jsx)("div",{children:"Cat View is empty"})},z=u.b.div(o||(o=Object(j.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 640px;\n  height: 424px;\n  background-color: gray;\n"]))),A=function(){var e=function(){var e=k(),n=e.enabled,t=e.refreshed,c=Object(b.useState)(null),r=Object(p.a)(c,2),a=r[0],i=r[1],l=Object(b.useState)(!1),s=Object(p.a)(l,2),o=s[0],d=s[1],j=Object(b.useState)(""),u=Object(p.a)(j,2),h=u[0],O=u[1],f=Object(b.useRef)(null),x=Object(b.useCallback)((function(){d(!0),n?(O(""),fetch("https://api.thecatapi.com/v1/images/search").then((function(e){return e.json()})).then((function(e){i(e.map((function(e){return e.url}))),d(!1)})).catch((function(e){return O(e)}))):O("Need to be enabled")}),[n]),v=Object(b.useCallback)((function(){f.current=setInterval((function(){x()}),5e3)}),[f,x]),g=Object(b.useCallback)((function(){f.current=clearInterval(f.current)}),[f]);return Object(b.useEffect)((function(){return console.log("refreshed hook",t),t?v():g(),function(){return g()}}),[t,g,v]),{data:a,loading:o,error:h,request:x}}(),n=e.request,t=e.data,c=e.loading,r=e.error,a=Object(b.useCallback)((function(){n()}),[n]);return Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{onClick:a,children:"Get Cat"}),Object(x.jsx)(z,{children:Object(x.jsx)(q,{loading:c,error:r,data:t})})]})},I=function(){return Object(x.jsxs)(O,{children:[Object(x.jsx)(h,{}),Object(x.jsxs)(v,{children:[Object(x.jsx)(R,{}),Object(x.jsx)(A,{})]})]})},J=document.querySelector("#root");Object(d.render)(Object(x.jsx)(m,{children:Object(x.jsx)(I,{})}),J)}},[[22,1,2]]]);
//# sourceMappingURL=main.b6a8b2a1.chunk.js.map